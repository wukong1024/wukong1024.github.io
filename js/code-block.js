KEEP.initCodeBlockTools=()=>{HTMLElement.prototype.wrap=function(e){this.parentNode.insertBefore(e,this),this.parentNode.removeChild(this),e.appendChild(this)};var e=(KEEP.theme_config?.code_copy||{})["style"],t=(KEEP.theme_config?.code_block||{})["style"],o=(KEEP.theme_config?.code_block?.tools||{})["style"];const n="mac"===(e||t||o||"default"),d=n?"fas fa-chevron-left":"fas fa-chevron-right",{copy:i,copied:p,fold:f,folded:y}=KEEP.language_code_block,m=`<span class="tool fold tooltip" data-content="${f}" data-offset-y="-2px"><i class="fas fa-chevron-down"></i></span>`;document.querySelectorAll("figure.highlight").forEach(l=>{let e=l.classList.length?l.classList[1].toUpperCase():"";"PLAINTEXT"===e&&(e="");const t=document.createElement("div");t.classList.add("highlight-container"),n&&t.classList.add("mac"),l.wrap(t);var o=`${e?'<span class="code-lang">'+e+"</span>":""}`;t.insertAdjacentHTML("afterbegin",`<div class="code-tools-box">
        ${n?m+o:"<span>"+m+o+"</span>"}
        <span class="tool copy tooltip" data-content="${i}" data-offset-y="-2px"><i class="fas fa-copy"></i></span>
      </div>`);const r=l.parentNode.querySelector(".code-tools-box"),a=r.querySelector(".copy"),s=r.querySelector(".fold");a.addEventListener("click",e=>{const t=e.currentTarget;var o=[...l.querySelectorAll(".code .line")].map(e=>e.innerText).join("\n");const a=document.createElement("textarea");a.style.top=window.scrollY+"px",a.style.position="absolute",a.style.opacity="0",a.readOnly=!0,a.value=o,document.body.append(a);const s=document.getSelection();e=0<s.rangeCount&&s.getRangeAt(0);a.select(),a.setSelectionRange(0,o.length),a.readOnly=!1;o=document.execCommand("copy");const c=t.querySelector("i"),n=r.querySelector(".copy .tooltip-content");o?(c.className="fas fa-check",n&&(n.innerHTML=p)):c.className="fas fa-times",a.blur(),t.blur(),e&&(s.removeAllRanges(),s.addRange(e)),document.body.removeChild(a)}),a.addEventListener("mouseleave",t=>{setTimeout(()=>{t.target.querySelector("i").className="fas fa-copy";const e=r.querySelector(".copy .tooltip-content");e&&(e.innerHTML=i)},500)});let c=!1;s.addEventListener("click",e=>{const t=e.currentTarget,o=t.querySelector("i"),a=r.querySelector(".fold .tooltip-content");c=!c,c?(o.className=d,l.classList.add("folded"),r.classList.add("folded"),a&&(a.innerHTML=y)):(o.className="fas fa-chevron-down",l.classList.remove("folded"),r.classList.remove("folded"),a&&(a.innerHTML=f))})})};